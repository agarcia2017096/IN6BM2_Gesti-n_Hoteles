<div class="row justify-content-center align-items-center">
    <div class="col-12 ">
        <header id="header" class="fixed-top d-flex align-items-center navbar navbar-dark bg-dark ">
            <div class=" collapse navbar-collapse container d-flex justify-content-between align-items-center">
                <div class="logo row ">
                    <div class="col-6">
                        <h1 class="text-light"><a><span id="navTitle"><i class="bi bi-filter-left"
                                        style="font-size:2rem"></i> TRAVEL INC</span></a></h1>
                    </div>
                </div>
                <nav id="navbar " class="navbar ">
                    <ul id="navbar">
                        <li class="nav-item"><a class="active " style="text-decoration: none;">Gestion de usuarios</a>
                        </li>
                        <li class="nav-item"><a></a></li>
                        <li class="nav-item"><a routerLink="/admin/hoteles" style="text-decoration: none;"> <i
                                    class="bi bi-arrow-left"></i> Volver</a></li>
                        <li class="nav-item"><a></a></li>

                    </ul>
                </nav>
            </div>
        </header>
    </div>
</div>

<body id="cuerpo">


    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <div class="card mb-4" style="background-color: #eeb84b!important;">
                    <div class="card-header " >
                    </div>
                    <div class="card-body color-fondo">
                        <div class="container color-fondo text-white text-center">
                            <div class="row">
                                <div class="col-12 col-md-6 justify-content-center align-content-center">
                                    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel"
                                        data-bs-interval="2000">
                                        <div class="carousel-indicators">
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="0" class="active" aria-current="true"
                                                aria-label="Slide 1"></button>
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="1" aria-label="Slide 2"></button>
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="2" aria-label="Slide 3"></button>
                                        </div>
                                        <div class="carousel-inner">
                                            <div class="carousel-item active">
                                                <img src="/assets/images/iconoempresaProductos.jpg"
                                                    class="d-block w-100 img-fluid" alt="...">
                                            </div>
                                            <div class="carousel-item">
                                                <img src="/assets/images/iconoSercivio2.jpg" class="d-block w-100 img-fluid"
                                                    alt="...">
                                            </div>
                                            <div class="carousel-item">
                                                <img src="/assets/images/iconBuil.jpg" class="d-block w-100 img-fluid"
                                                    alt="...">
                                            </div>
                                        </div>
                                        <button class="carousel-control-prev" type="button"
                                            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Anterior</span>
                                        </button>
                                        <button class="carousel-control-next" type="button"
                                            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Siguiente</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-12 col-md-1"></div>
                                <div class="col-12 col-md-5 justify-content-center align-items-center ">
                                    <br><br>
                                    <h1 class="mt-4"> <i class="bi bi-person"></i> Gesti贸n de usuarios</h1>
                                    <hr>
                                    <p>El administrador de la aplicaci贸n puede cambiar el rol de los usuarios de la aplicaci贸n, permitiendo limitar las funciones de la aplicaci贸n
                                        y acciones para administrar de los hoteles y servicios de Travel Inc.
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="row ">
                    <div class="col-12">
                        <div class="card mb-4">
                            <div class="card-header" style="background-color: #222830;color: white;">
                                <div class="row">
                                    <div class="col-md-9">

                                        <i class="fas fa-table me-1 "></i>
                                        <button type="button" class="btn color-botones " data-bs-toggle="modal">
                                            <i class="bi bi-caret-right-fill"></i>
                                        </button>
                                        - Usuarios de tipo Cliente
                                    </div>
                                    <div class="col-3">
                                        <div class="input-group">
                                          <input [(ngModel)]="searchUser" type="text" class="form-control" placeholder="Busqueda de Usuarios"  aria-label="Text input with segmented dropdown button">
                                          <button style="color: white;border-color: gray;" type="" class="btn "><i class="bi bi-search"></i> Buscar</button>
                                    
                                        </div> 
                                    </div>

                                </div>
                                <!-- Modal -->
                                <div class="modal fade" id="exampleModal" tabindex="-1"
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header " style="background-color: #222830;">
                                                <h5 style="color: rgb(245, 179, 66);" class="modal-title" id="exampleModalLabel">
                                                   </h5>
                                                <button type="button" class="btn-close btn-close-white"
                                                    data-bs-dismiss="modal" aria-label="Close"></button>

                                            </div>

                                            <div class="modal-footer " style="background-color: #222830;">
                                                <button type="button" class="btn btn-secondary"
                                                    data-bs-dismiss="modal">Cerrar</button>
                                                <button type="button" class="btn color-botones">Guardar cambios</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <table
                                class="table table-responsive  table-striped justify-content-center alight-items-center">
                                <thead class=" justify-content-center alight-items-center">
                                    <tr class="col-md-12 justify-center align-items-center">
                                        <th class="col-md-3 text-center"> Nombre </th>
                                        <th class="col-md-3 text-center"> Apellido </th>
                                        <th class="col-md-3 text-center" scope="col">Usuario</th>
                                        <th class="col-md-3 text-center" scope="col">Control</th>

                                    </tr>
                                </thead>
                                <tbody class="align-items-center">
                                    <!-- Implementacion de ngFor -->
                                    <tr *ngFor="let user of empresasModelGet| search:searchUser;">
                                        <td class="col-md-3 text-center"> {{user.nombre}}
                                        </td>
                                        <td class="col-md-3 text-center">{{user.apellido}}</td>
                                        <td class="col-md-3 text-center">{{user.usuario}}</td>
                                        <td class="col-md-3 text-center">                       
                                            <button  (click)="getUserId(user._id)" id="botomOptionsEdit" style="background-color: #3C616C ;" type="button"
                                            class="btn btn-primary col-3" data-bs-toggle="modal" data-bs-target="#exampleModal2" >
                                            <i class="bi bi-pencil-square"></i>
                                          </button>
                                        </td>



                                       
                                        <!--<button style="background-color: #3C616C;" class="btn btn-primary col-3" type="button" id="botomOptionsEdit"  data-bs-toggle="modal" data-bs-target="#exampleModal2"  (click)="getEmpresaId(empresas._id)"><i class="bi bi-pencil-square"></i> Editar</button>
                                        -->
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        
        </main>
    </div>

    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div style="background-color: #040b14;" class="modal-header"> 
              <h5 style="color: white;" class="modal-title" id="exampleModalLabel"> <i class="bi bi-pen-fill"></i> Editar Cliente
              </h5>
              <button type="button" class="btn-close btn-close-white"  data-bs-dismiss="modal"  aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: #EBF5FB;">
              <form #editValid="ngForm" class="was-validated">
                <div class="form-group">
                    <label for="direccioSucursal">Rol Cliente: </label>
                <select id="rol" style="width:100%; height: 2rem;" name="rol" #rol="ngModel"
                    [(ngModel)]="empresaModelId.rol" required>
                    <option value="ROL_CLIENTE">ROL_CLIENTE</option>
                    <option value="ROL_ADMINISTRADOR_HOTEL">ROL_ADMINISTRADOR_HOTEL</option>
                  </select>

                  <div class="form-group">
                    <label for="idHotel"> Nombre del hotel a administrar: </label><br>
                    <select id="idHotel" style="width:100%; height: 2rem;" name="idHotel" 
                    #idHotel="ngModel" [(ngModel)]="empresaModelId.idHotel" required>
                      <option  *ngFor="let hotel of hotelesModelGet" value={{hotel._id}}>{{hotel.nombreHotel}}</option>
                    </select>
                  </div>
                  
                  </div>
              </form>
            </div>
            <div class="modal-footer" style="background-color: #040b14;">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
               <button type="button" class="btn btn-success" data-bs-dismiss="modal" (click)="putUser()">Guardar cambios</button>
            </div>
          </div>
        </div>
      </div>
</body><br>
<app-footer></app-footer>
<router-outlet></router-outlet>